{"version":3,"sources":["Components/Modal/modal.module.css","Components/Button/button.module.css","services.js","Components/Searchbar/SearchBar.js","Components/ImageGallery/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/searchBar.module.css","Components/ImageGallery/imageGallery.module.css"],"names":["module","exports","fetchPictures","this","setState","status","fetch","state","query","pageNumber","then","res","json","pictures","prevState","hits","catch","error","SearchBar","searchInputValue","formSubmit","e","preventDefault","props","onSubmit","handleInputChange","currentTarget","value","className","s","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","tags","src","alt","ImageGalleryItemImage","defaultProps","ImageGallery","openLargeImg","shortid","require","map","picture","onClick","id","generate","Button","setPageNumber","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","pictureData","createPortal","Overlay","largeImageURL","App","showModal","largeImg","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","find","toggleModal","prevProps","call","color","height","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.32aa13e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2pZMn\",\"Modal\":\"modal_Modal__2Nscn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2hEFy\"};","\r\nconst API_KEY = '23129863-59f8a41eed57593cb3097b5c2'\r\nconst URL = 'https://pixabay.com/api/'\r\n\r\nexport default function fetchPictures() {\r\n    this.setState({status: 'pending'})\r\n    fetch(`${URL}?q=${this.state.query}&page=${this.state.pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(res => res.json())\r\n      .then(pictures => this.setState(prevState => ({\r\n        pictures: [...prevState.pictures, ...pictures.hits],\r\n        status: 'resolved'\r\n      })))\r\n    .catch(error => this.setState({ error, status: 'rejected' }));\r\n};","import { Component } from \"react\";\r\nimport s from './searchBar.module.css'\r\n\r\nclass SearchBar extends Component {\r\n\r\n    state = {\r\n        searchInputValue: ''\r\n    };\r\n\r\n    formSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.searchInputValue);\r\n    };\r\n\r\n    handleInputChange = (e) => {\r\n        this.setState({ searchInputValue: e.currentTarget.value });\r\n    };\r\n\r\n    render() {\r\n        const {searchInputValue}= this.state\r\n        const {formSubmit, handleInputChange} = this\r\n        return (\r\n            <header className={ s.Searchbar }>\r\n                <form className={ s.SearchForm } onSubmit={formSubmit}>\r\n                    <button type=\"submit\" className={ s.SearchFormButton }>\r\n                        <span className={ s.SearchFormButtonLabel }>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={ s.SearchFormInput }\r\n                        type=\"text\"\r\n                        value={searchInputValue}\r\n                        onChange={handleInputChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n\r\nexport default SearchBar;","import PropTypes from 'prop-types';\r\nimport s from './imageGallery.module.css'\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags }) => {\r\n  \r\n    return (\r\n        <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    );\r\n        \r\n};\r\nexport default ImageGalleryItem\r\n\r\nImageGalleryItem.defaultProps = {\r\n    tags: 'picture'\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n};","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport s from './imageGallery.module.css'\r\n\r\nconst ImageGallery = ({ pictures, openLargeImg }) => {\r\n    const shortid = require('shortid');\r\n        return (\r\n            <ul className={s.ImageGallery}>\r\n                {pictures && pictures.map(picture =>\r\n                    <li key={shortid.generate()} className={s.ImageGalleryItem} onClick={()=> openLargeImg(picture.id)}>\r\n                        <ImageGalleryItem webformatURL={picture.webformatURL} tags={picture.tags} />\r\n                    </li>)}\r\n            </ul>\r\n        );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string,\r\n        })).isRequired,\r\n    openLargeImg:PropTypes.func.isRequired,\r\n}","import s from './button.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst Button = ({ setPageNumber }) => {\r\n\r\n    return (\r\n        <button type='button' className={s.Button} onClick={() => setPageNumber()}>Load more</button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  setPageNumber: PropTypes.func.isRequired,\r\n};","import { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport s from './modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    };\r\n\r\n    handleKeyDown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.closeModal()\r\n        };\r\n    };\r\n\r\n    handleBackdropClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.closeModal()\r\n        };\r\n    };\r\n\r\n  \r\n    render() {\r\n\r\n    const { pictureData } = this.props\r\n\r\n    return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal}>\r\n                <img src={pictureData.largeImageURL} alt={pictureData.tags} />\r\n            </div>\r\n        </div>, modalRoot);\r\n    };\r\n    \r\n};\r\n\r\nexport default Modal","import { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport './App.css';\nimport fetchPictures from './services';\nimport SearchBar from './Components/Searchbar/SearchBar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal'\n\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    status: 'idle',\n    showModal: false,\n    largeImg: null,\n    query: '',\n    pageNumber: 1,\n    error: 'Nothing found'\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query || prevState.pageNumber !== this.state.pageNumber) {\n      fetchPictures.call(this)\n    };\n    if (this.state.pageNumber > 1) {\n      this.scrollDown();\n    };\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  setPageNumber = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  openLargeImg = (id) => {\n    const picture = this.state.pictures.find(picture => picture.id === id);\n    this.setState({ largeImg: picture})\n    this.toggleModal();\n  \n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal\n    }));\n  };\n\n  onSubmit = (query) => {\n    this.setState({\n      pictures: [],\n      pageNumber: 1,\n      query\n    });\n  };\n\n  render() {\n\n    const { status, pictures, showModal, largeImg, error } = this.state\n    const { onSubmit, toggleModal, openLargeImg, setPageNumber} = this\n\n    if (status === 'idle') {\n      return (<div className='container'>\n        <SearchBar onSubmit={onSubmit} />\n      </div>);\n    };\n\n    if (status === 'pending') {\n      return (\n        <div className='container'>\n          <SearchBar onSubmit={onSubmit} />\n          <ImageGallery pictures={pictures} openLargeImg={openLargeImg} />\n          <div className='loader'>\n            <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n          </div>\n        </div>\n      );\n    };\n\n    if (status === 'resolved') {\n      return (\n        <div className='container'>\n          <SearchBar onSubmit={onSubmit} />\n          {<ImageGallery pictures={pictures} openLargeImg={openLargeImg} />}\n          {<Button setPageNumber={setPageNumber} />}\n          {showModal && <Modal closeModal={toggleModal} pictureData={largeImg} />}\n        </div>\n        \n      );\n    };\n\n    if (status === 'rejected') {\n      return (<div className='container'>\n        <SearchBar onSubmit={onSubmit} />\n        <h1>Warning: { error }</h1>\n      </div>);\n    };\n  };\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__1CT8p\",\"SearchForm\":\"searchBar_SearchForm__12HEv\",\"SearchFormButton\":\"searchBar_SearchFormButton__XMKPv\",\"SearchFormButtonLabel\":\"searchBar_SearchFormButtonLabel__3OJkF\",\"SearchFormInput\":\"searchBar_SearchFormInput__3eRbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2zUSl\",\"ImageGalleryItem\":\"imageGallery_ImageGalleryItem__2OEkA\",\"ImageGalleryItemImage\":\"imageGallery_ImageGalleryItemImage__1NTQo\"};"],"sourceRoot":""}